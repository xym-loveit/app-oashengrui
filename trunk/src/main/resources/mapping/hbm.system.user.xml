<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE hibernate-mapping PUBLIC "-//Hibernate/Hibernate Mapping DTD 3.0//EN" "http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd">

<hibernate-mapping package="org.shengrui.oa.model.system">
    <class name="ModelAppUser" table="app_user">
        <cache usage="read-write" />
        <id name="id" type="java.lang.String">
            <column name="user_id" />
            <generator class="native" />
        </id>
        <property name="username" type="java.lang.String" unique="true">
            <column name="username" not-null="true" />
        </property>
        <property name="password" type="java.lang.String">
            <column name="password" not-null="true" />
        </property>
        <property name="fullName" type="java.lang.String">
            <column name="fullname" not-null="true" />
        </property>
        <property name="email" type="java.lang.String">
            <column name="email" />
        </property>
        <property name="phone" type="java.lang.String">
            <column name="phone" />
        </property>
        <property name="mobile" type="java.lang.String">
            <column name="mobile" />
        </property>
        <property name="fax" type="java.lang.String">
            <column name="fax" />
        </property>
        <property name="address" type="java.lang.String">
            <column name="address" />
        </property>
        <property name="zip" type="java.lang.String">
            <column name="zip" />
        </property>
        <property name="photo" type="java.lang.String">
            <column name="photo" />
        </property>
        <property name="status" type="java.lang.Integer">
            <column name="status" />
        </property>
        <property name="delFlag" type="java.lang.Integer">
            <column name="del_flag" />
        </property>
        <property name="lastLogonIP" type="java.lang.String">
            <column name="logon_lastip" />
        </property>
        <property name="lastLogonTime" type="timestamp">
            <column name="logon_lastime" />
        </property>
        
        <many-to-one  name="position" class="ModelSchoolDepartmentPosition" not-found="ignore">
        	<column name="pos_id" />
        </many-to-one>
	
		<many-to-one  name="district" class="ModelSchoolDistrict" not-found="ignore">
        	<column name="district_id" />
        </many-to-one>
		
		<many-to-one  name="department" class="ModelSchoolDepartment" not-found="ignore">
        	<column name="dep_id" />
        </many-to-one>
		
		<many-to-one  name="employee" class="org.shengrui.oa.model.hrm.ModelHrmEmployee" not-found="ignore" unique="true">
        	<column name="emp_id" />
        </many-to-one>
        	    
	    <set name="roles" table="app_user_role" cascade="save-update" inverse="false" lazy="true"> 
      		<cache usage="read-write" />
      		<key column="user_id"/>  
      		<many-to-many fetch="join" class="ModelAppRole" column="role_id"/> 
    	</set> 
    
	</class>
</hibernate-mapping>
